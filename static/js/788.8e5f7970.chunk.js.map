{"version":3,"file":"static/js/788.8e5f7970.chunk.js","mappings":"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","sources":["components/ListPage.js","components/Search.js"],"sourcesContent":["import Layout from \"./Layout\";\nimport React, {useEffect, useState} from \"react\";\nimport {Alert, Collapse, IconButton} from \"@mui/material\";\nimport CloseIcon from \"@mui/icons-material/Close\";\nimport {auth, db} from \"../firebase\";\nimport {collection, doc, getDocs, setDoc} from \"firebase/firestore\";\nimport {Link, useParams} from \"react-router-dom\";\nimport {MdCancel, MdOutlineAdd, MdSearch} from \"react-icons/md\";\nimport axios from \"axios\";\nimport requests from \"../Constants\";\nimport {getResultType} from \"./Search\";\nimport {delay} from \"./Settings\";\nimport {HiChevronDown, HiChevronUp} from \"react-icons/hi\";\n\nexport default function ListPage({isNew, preview}) {\n    let { nameQ } = useParams();\n    const [name, setName] = useState(!isNew ? nameQ : '');\n    const [description, setDescription] = useState('');\n    const [backdrop, setBackdrop] = useState('');\n    const [movieSearchQuery, setMovieSearchQuery] = useState('');\n    const [searchResults, setSearchResults] = useState([]);\n    const [addedMovies, setAddedMovies] = useState([]);\n    const [error, setError] = useState('');\n    const [isErrorOpen, setIsErrorOpen] = useState(false);\n    const [success, setSuccess] = useState('');\n    const [isSuccessOpen, setIsSuccessOpen] = useState(false);\n    const [isLoading, setIsLoading] = useState(true);\n    const [isUserLoggedIn, setIsUserLoggedIn] = useState(false);\n\n    useEffect(() => {\n        auth.onAuthStateChanged(async (user) => {\n            if (user) {\n                setIsUserLoggedIn(true);\n\n                let list = [];\n                const listSnapshot = await getDocs(collection(db, \"users\", auth.currentUser.uid.toString(), \"lists\"));\n                listSnapshot.forEach((doc) => {\n                    if (doc.data().name === nameQ) {\n                        list.push(doc.data());\n                        setDescription(doc.data().description);\n                        setBackdrop(doc.data().backdrop);\n                        setAddedMovies(doc.data().movies);\n                    }\n                });\n                console.log(list);\n            } else {\n                setIsUserLoggedIn(false);\n            }\n            setIsLoading(false);\n        });\n    }, [nameQ]);\n\n    function setNameHandler(ev) {\n        setName(ev.target.value);\n    }\n    function setDescriptionHandler(ev) {\n        setDescription(ev.target.value);\n    }\n    function setBackdropHandler(ev) {\n        setBackdrop(ev.target.value);\n    }\n    function setMovieSearchQueryHandler(ev) {\n        setMovieSearchQuery(ev.target.value);\n    }\n\n    async function submit() {\n        if (name === '') {\n            setError(\"Name is Required!\");\n            setIsErrorOpen(true);\n            return;\n        }\n\n        const user = auth.currentUser.uid.toString().trim();\n        try {\n            await setDoc(doc(db, \"users\", user, \"lists\", name.toString()), {\n                name: name,\n                description: description,\n                backdrop: backdrop,\n                movies: addedMovies\n            });\n            setSuccess(isNew ? `Successfully Created or Edited the List under the name: ${name}` : `Successfully Edited the List under the name: ${name}`);\n            setIsSuccessOpen(true);\n            await delay(5000);\n            setIsSuccessOpen(false);\n        } catch (e) {\n            console.error(\"Error adding document: \", e);\n            setError(e);\n            setIsErrorOpen(true);\n        }\n    }\n\n    function removeItem(id) {\n        let copy = [...addedMovies];\n        copy.splice(id, 1);\n        setAddedMovies(copy);\n    }\n    function addItem(item) {\n        let copy = [...addedMovies];\n        copy.push(item);\n        setAddedMovies(copy);\n    }\n\n    async function search(query) {\n        if (query === null || query === undefined || query === '') return;\n\n        let quickAdd = false;\n        if (query.at(0) === \"'\" && query.at(query.length - 1) === \"'\") quickAdd = true;\n\n        if (!quickAdd) {\n            const searchRequest = `https://api.themoviedb.org/3/search/multi?api_key=${requests.key}&language=${document.getElementById(\"root\")?.getAttribute('langvalue')}&query=${query}&include_adult=true`;\n            axios.get(searchRequest).then((response) => {\n                setSearchResults(response.data.results);\n            }).then(() => {\n                setIsLoading(false);\n            }).catch((err) => console.error(err))\n        } else {\n            const splitStrings = query.substring(1, query.length - 1).split(\",\");\n            let results = [];\n            let length = splitStrings.length;\n            if (splitStrings.length >= 10) length = 10;\n            console.log(length);\n            for (let i = 0; i < length; i++) {\n                if (splitStrings[i] === \"\" || isNaN(splitStrings[i].substring(1, splitStrings[i].length))) {\n                    continue;\n                }\n                let request;\n                const mediaId = splitStrings[i].substring(1, splitStrings[i].length);\n                switch (splitStrings[i].at(0)) {\n                    case \"m\":\n                        request = `https://api.themoviedb.org/3/movie/${mediaId}?api_key=${requests.key}&language=${document.getElementById(\"root\")?.getAttribute('langvalue')}`;\n                        break;\n                    case \"t\":\n                        request = `https://api.themoviedb.org/3/tv/${mediaId}?api_key=${requests.key}&language=${document.getElementById(\"root\")?.getAttribute('langvalue')}`;\n                        break;\n                    case \"p\":\n                        request = `https://api.themoviedb.org/3/person/${mediaId}?api_key=${requests.key}&language=${document.getElementById(\"root\")?.getAttribute('langvalue')}`;\n                        break;\n                    default:\n                        continue;\n                }\n                axios.get(request).then((response) => {\n                    const info = {};\n                    info.id = response.data.id;\n                    if (response.data.title) info.title = response.data.title;\n                    if (response.data.name) info.name = response.data.name;\n                    if (response.data.poster_path) info.poster_path = response.data.poster_path;\n                    if (response.data.profile_path) info.profile_path = response.data.profile_path;\n                    if (response.data.backdrop_path) info.backdrop_path = response.data.backdrop_path;\n                    if (response.data.release_date) info.release_date = response.data.release_date;\n                    if (response.data.overview) info.overview = response.data.overview;\n                    if (response.data.biography) info.biography = response.data.biography;\n                    results.push(info);\n                }).catch((err) => console.error(err))\n            }\n            addedMovies.map((item) => {\n                results.push(item);\n            })\n            setAddedMovies(results);\n        }\n    }\n\n    function moveElement(id, up) {\n        if (up === true && id === 0) return;\n        if (up === false && id + 1 === addedMovies.length) return;\n        let swapped = addedMovies.swap(id, up === true ? id - 1 : id + 1);\n        setAddedMovies(swapped);\n    }\n\n    // eslint-disable-next-line\n    Array.prototype.swap = function (x,y) {\n        let b = this[x];\n        this[x] = this[y];\n        this[y] = b;\n        return this;\n    }\n\n    if (!isUserLoggedIn) return <Layout><Link to=\"/login/\"><div className=\"h-[100vh] font-bold text-[4vh]\">Please Log in to Edit Lists</div></Link></Layout>\n\n    return (\n        !isLoading && <Layout>\n            <div className=\"min-h-[100vh] h-fit w-[70%] ml-auto mr-auto\">\n                <div className=\"text-[4vh] text-center font-bold\">{isNew ? \"Create a New List\" : !preview ? \"Edit \" + name : name}</div>\n                <Link to={!preview ? `/list/${name}/` : `/edit-list/${name}/`} className=\"text-[2vh] text-[#838383] text-center italic mb-5\">{isNew ? \"\" : !preview ? \"Click here to preview \" + name : \"Click here to edit \" + name}</Link>\n                {preview ? <textarea className=\"text-[3vh] text-[#838383] text-center italic mb-5 bg-[#131313] w-full h-[16vh]\" name=\"list_description\" style={{resize: \"none\"}} cols=\"40\" rows=\"5\" onChange={setDescriptionHandler} disabled value={description} placeholder=\"My Favorite Movies\"></textarea> : null}\n                {error ? <Collapse in={isErrorOpen}><Alert className=\"mt-2\" variant=\"filled\" severity=\"error\" action={<IconButton size=\"small\" onClick={() => setIsErrorOpen(false)}><CloseIcon fontSize=\"inherit\"/></IconButton>}>{error.toString()}</Alert></Collapse> : null}\n                {!preview ? <form>\n                    <div className=\"text-left font-bold mb-2 text-[3vh]\">Name *</div>\n                    <input className=\"text_field w-full h-[6vh]\" type=\"text\" onChange={setNameHandler} value={name} placeholder=\"My Awesome List\"/>\n                    <div className=\"text-left font-bold mb-2 text-[3vh]\">Description</div>\n                    <textarea className=\"text_field w-full h-[16vh]\" name=\"list_description\" cols=\"40\" rows=\"5\" onChange={setDescriptionHandler} value={description} placeholder=\"My Favorite Movies\"></textarea>\n                    <div className=\"text-left font-bold mb-2 text-[3vh]\">Backdrop Link</div>\n                    <input className=\"text_field w-full h-[6vh]\" type=\"text\" placeholder=\"https://example.com/\" onChange={setBackdropHandler} value={backdrop}/>\n                    <div className=\"text-left font-bold text-[3vh]\">Add Items</div>\n                    <div className=\"text-left text-[#838383] italic mb-2 mt-[-0.25rem] text-[2vh]\">To quickly add items, write the type (\"m\" for movie, \"t\" for tv, \"p\" for person) and their ID in apostrophes. If you want to add multiple, separate them with a comma, e.g. 'm157336,m238,p976'. Limit is 10 items at a time</div>\n                    <div className=\"flex\"><input className=\"text_field w-full h-[6vh] mr-1\" type=\"text\" placeholder=\"Interstellar\" onChange={setMovieSearchQueryHandler} value={movieSearchQuery}/><div className=\"w-fit h-[6vh] search-button button cursor-pointer\" onClick={() => search(movieSearchQuery)}><MdSearch className=\"w-full h-full\"/></div><div className=\"w-[0.25rem]\"/><div className=\"w-fit h-[6vh] search-button button cursor-pointer\" onClick={() => setSearchResults(null)}><MdCancel className=\"w-full h-full\"/></div></div>\n                    {searchResults?.map((item, id) => (\n                        <div className=\"flex_center relative\"><div className=\"w-[10%] h-[40vh] cursor-pointer flex_center\" onClick={() => addItem(item)}><MdOutlineAdd/></div>{getResultType(item, id)}</div>\n                    ))}\n                    <div className=\"text-left font-bold mb-2 text-[3vh]\">Added Items</div>\n                    {addedMovies?.map((item, id) => (\n                        <div key={id} className=\"text-left font-bold mb-4 h-[6vh] flex items-center\">\n                            <HiChevronUp className=\"h-[3vh] w-[3vh] cursor-pointer\" onClick={() => moveElement(id, true)}/>\n                            <HiChevronDown className=\"h-[3vh] w-[3vh] cursor-pointer\" onClick={() => moveElement(id, false)}/>\n                            {item?.title ? item?.title : item?.name}\n                            <MdCancel className=\"ml-2 w-[2vh] h-[2vh] cursor-pointer\" onClick={() => removeItem(id)}/></div>\n                    ))}{addedMovies.length === 0 ? <div className=\"font-bold text-left mb-4\">No Items Added</div> : null}\n                    {success ? <Collapse in={isSuccessOpen}><Alert className=\"mb-2\" variant=\"filled\" severity=\"success\" action={<IconButton size=\"small\" onClick={() => setIsSuccessOpen(false)}><CloseIcon fontSize=\"inherit\"/></IconButton>}>{success.toString()}</Alert></Collapse> : null}\n                    <input className=\"settings-btn button cursor-pointer\" type=\"button\" value={`${isNew ? \"Create My List\" : \"Edit My List\"}`} onClick={() => submit()}/>\n                </form>\n                    : <div>\n                        {addedMovies.length !== 0 ? addedMovies.map((item, id) => (\n                            getResultType(item, id)\n                        )) : <div className=\"font-bold text-left mb-4\">No Items Added</div>}\n                    </div>}\n            </div>\n        </Layout>\n    )\n}","import Layout from \"./Layout\";\nimport {useParams} from \"react-router-dom\";\nimport React, {useEffect, useState} from \"react\";\nimport {auth} from \"../firebase\";\nimport LoadSettingsData from \"../LoadData\";\nimport axios from \"axios\";\nimport requests from \"../Constants\";\nimport ListCard from \"./ListCard\";\n\nexport default function Search() {\n    let { searchParams } = useParams();\n    const searchRequest = `https://api.themoviedb.org/3/search/multi?api_key=${requests.key}&language=${document.getElementById(\"root\")?.getAttribute('langvalue')}&query=${searchParams}&include_adult=true`;\n    const [item, setItem] = useState([]);\n    const [isLoading, setIsLoading] = useState(true);\n\n    useEffect(() => {\n        auth.onAuthStateChanged(async (user) => {\n            if (user) {\n                await LoadSettingsData().then(() => {\n                    axios.get(searchRequest).then((response) => {\n                        console.log(response.data);\n                        setItem(response.data);\n                    }).then(() => {\n                        setIsLoading(false);\n                    }).catch((err) => console.error(err))\n                }).catch((err) => console.error(err))\n            }\n        });\n    }, [searchRequest]);\n\n    return (\n        !isLoading && <Layout>\n            <div className=\"h-fit p-5\">\n                {item.results.map((item, id) => (\n                    getResultType(item, id)\n                ))}\n            </div>\n        </Layout>\n    )\n}\n\nexport function getResultType(result, id) {\n    console.log(result)\n    if (result.media_type === \"movie\" || result.title !== undefined) return <ListCard key={id} item={result} deleteButton={false} showRating={false} isTV={false} isPerson={false} isCustom={false} editButton={false}/>;\n    if (result.media_type === \"tv\" || result.first_air_date !== undefined) return <ListCard key={id} item={result} deleteButton={false} showRating={false} isTV={true} isPerson={false} isCustom={false} editButton={false}/>;\n    if (result.media_type === \"person\" || result.biography !== undefined) return <ListCard key={id} item={result} deleteButton={false} showRating={false} isTV={false} isPerson={true} isCustom={false} editButton={false}/>;\n}"],"names":["ListPage","isNew","preview","nameQ","useParams","useState","name","setName","description","setDescription","backdrop","setBackdrop","movieSearchQuery","setMovieSearchQuery","searchResults","setSearchResults","addedMovies","setAddedMovies","error","setError","isErrorOpen","setIsErrorOpen","success","setSuccess","isSuccessOpen","setIsSuccessOpen","isLoading","setIsLoading","isUserLoggedIn","setIsUserLoggedIn","setDescriptionHandler","ev","target","value","user","auth","trim","setDoc","doc","db","toString","movies","delay","console","query","undefined","quickAdd","at","length","splitStrings","substring","split","results","log","i","isNaN","request","mediaId","requests","document","getElementById","getAttribute","axios","then","response","info","id","data","title","poster_path","profile_path","backdrop_path","release_date","overview","biography","push","catch","err","map","item","searchRequest","moveElement","up","swapped","swap","useEffect","list","getDocs","collection","forEach","Array","prototype","x","y","b","this","className","to","style","resize","cols","rows","onChange","disabled","placeholder","in","variant","severity","action","size","onClick","fontSize","getResultType","type","search","copy","addItem","splice","removeItem","submit","Search","searchParams","setItem","LoadSettingsData","result","media_type","deleteButton","showRating","isTV","isPerson","isCustom","editButton","first_air_date"],"sourceRoot":""}