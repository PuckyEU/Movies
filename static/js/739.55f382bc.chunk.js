"use strict";(self.webpackChunkmyfavmovies=self.webpackChunkmyfavmovies||[]).push([[739],{1890:function(e,t,n){n.r(t),n.d(t,{default:function(){return k}});var i=n(4165),r=n(5861),o=n(885),a=n(3253),l=n(2791),s=n(3442),c=n(4569),d=n.n(c),u=n(8931),m=n(1523),v=n(4061),h=n(8712),p=n(6009),f=n.p+"static/media/justwatch_icon.ade4d0d997b506beca8a.png",x=n(6364),b=n(5152),w=n(2339),g=n(6970),j=n(8617),_=(n(8122),n(9062)),N=n(5385),y=n(184);function k(){var e,t,n,c,k,Z,E,S,A,I,C,D,B=(0,u.UO)().movieId,P=(0,u.UO)().televisionId,U=!!B,R="https://api.themoviedb.org/3/movie/".concat(B,"?api_key=").concat(s.ZP.key,"&language=").concat(null===(e=document.getElementById("root"))||void 0===e?void 0:e.getAttribute("langvalue"),"&append_to_response=videos,images,alternative_titles,watch/providers,release_dates,credits"),L="https://api.themoviedb.org/3/tv/".concat(P,"?api_key=").concat(s.ZP.key,"&language=").concat(null===(t=document.getElementById("root"))||void 0===t?void 0:t.getAttribute("langvalue"),"&append_to_response=credits,episode_groups,videos"),O=(0,l.useState)([]),z=(0,o.Z)(O,2),W=z[0],M=z[1],T=(0,l.useState)(!0),F=(0,o.Z)(T,2),H=F[0],J=F[1],V=(0,l.useState)(!0),X=(0,o.Z)(V,2),q=X[0],G=X[1],K=(0,l.useState)(!1),Q=(0,o.Z)(K,2),Y=Q[0],$=Q[1],ee=(0,l.useState)([]),te=(0,o.Z)(ee,2),ne=te[0],ie=te[1],re=(0,l.useState)(!1),oe=(0,o.Z)(re,2),ae=oe[0],le=oe[1],se=(0,l.useState)(""),ce=(0,o.Z)(se,2),de=ce[0],ue=ce[1],me=(0,l.useState)([]),ve=(0,o.Z)(me,2),he=ve[0],pe=ve[1],fe=(0,l.useState)(!1),xe=(0,o.Z)(fe,2),be=xe[0],we=xe[1],ge=(0,l.useState)(0),je=(0,o.Z)(ge,2),_e=je[0],Ne=je[1],ye=(0,l.useState)(!1),ke=(0,o.Z)(ye,2),Ze=ke[0],Ee=ke[1],Se=(0,l.useState)(""),Ae=(0,o.Z)(Se,2),Ie=Ae[0],Ce=Ae[1],De=l.useState(null),Be=(0,o.Z)(De,2),Pe=Be[0],Ue=Be[1],Re=Boolean(Pe),Le=Re?"movie-rating-popover":void 0,Oe=l.useState(null),ze=(0,o.Z)(Oe,2),We=ze[0],Me=ze[1],Te=Boolean(We),Fe=Te?"movie-list-popover":void 0;function He(){window.innerWidth/window.innerHeight<1.2?(document.getElementById("media_overview").style.width="90vw",document.getElementById("media_cast").style.width="90vw",document.getElementById("media_cast").style.gridRowStart=2):(document.getElementById("media_overview").style.width="45vw",document.getElementById("media_cast").style.width="45vw",document.getElementById("media_cast").style.gridRowStart=1)}function Je(e){var t;if(U){var n=(0,x.getReleaseDateItem)(e,W);return e===(null===(t=document.getElementById("root"))||void 0===t?void 0:t.getAttribute("locvalue"))&&ie(n),n}}function Ve(e){ue((0,x.getMainTrailer)(e))}document.onmousedown=function(){return!0},(0,l.useEffect)((function(){h.I8.onAuthStateChanged(function(){var e=(0,r.Z)((0,i.Z)().mark((function e(t){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=6;break}return $(!0),e.next=4,(0,v.Z)().then((function(){d().get(U?R:L).then((function(e){console.log(e.data),M(e.data),Ve(e.data),(0,x.getMovieDataFromDB)(e.data).then((function(e){if(we(e[0]),null===e[1])return Ne(0),void Ee(!1);Ne(e[1]),Ee(e[2]),pe(e[3])})).catch((function(e){return console.error(e)})),Ce((0,x.getWatchProviderLink)(e.data))})).then((function(){J(!1)})).catch((function(e){return console.error(e)}))})).catch((function(e){return console.error(e)}));case 4:e.next=8;break;case 6:$(!1),d().get(U?R:L).then((function(e){console.log(e.data),M(e.data),Ve(e.data),Ce((0,x.getWatchProviderLink)(e.data))})).then((function(){J(!1)}));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[R]);var Xe=function(){Ue(null)},qe=function(){Me(null)};function Ge(){return(Ge=(0,r.Z)((0,i.Z)().mark((function e(t){var n,r,o;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.movies,(r={}).id=W.id,W.title&&(r.title=W.title),W.name&&(r.name=W.name),W.poster_path&&(r.poster_path=W.poster_path),W.profile_path&&(r.profile_path=W.profile_path),W.backdrop_path&&(r.backdrop_path=W.backdrop_path),W.release_date&&(r.release_date=W.release_date),W.overview&&(r.overview=W.overview),W.biography&&(r.biography=W.biography),n.push(r),console.log(n),o=h.I8.currentUser.uid.toString().trim(),e.prev=14,e.next=17,(0,_.pl)((0,_.JU)(h.db,"users",o,"lists",t.name.toString()),{name:t.name,description:t.description,backdrop:t.backdrop,movies:n});case 17:qe(),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(14),console.error("Error adding document: ",e.t0);case 23:case"end":return e.stop()}}),e,null,[[14,20]])})))).apply(this,arguments)}function Ke(e,t){return 1!==e?e+t+"s":e+t}return window.addEventListener("resize",He),(0,u.k6)().listen((function(){window.removeEventListener("resize",He)})),!H&&(0,y.jsxs)(a.Z,{children:[(0,y.jsx)("div",{id:"media_trailer",className:"bg-black ".concat(ae?"":"hidden"," w-screen h-screen mt-[-50px]"),children:ae?(0,y.jsx)("div",{className:"top-0 left-0 w-full h-full absolute overflow-hidden rounded-xl",children:(0,y.jsx)("iframe",{src:"https://www.youtube.com/embed/".concat(de,"?autoplay=1&autohide=1?rel=0&amp&modestbranding=1"),title:W.title+" Trailer",allowFullScreen:!0,loading:"lazy",className:"w-full h-full"})}):void 0}),(0,y.jsx)("div",{className:"h-full ".concat(ae?"":"mt-[-50px]"),onLoad:He,children:(0,y.jsxs)("div",{id:"movie_backdrop_ribbon",className:"inline-block w-[100vw] media_parent h-fit min-h-[100vh] justify-center movie_ribbon relative",onLoad:function(){var e;return Je(null===(e=document.getElementById("root"))||void 0===e?void 0:e.getAttribute("locvalue"))},children:[(0,y.jsx)("img",{src:"https://image.tmdb.org/t/p/original/".concat(W.backdrop_path),alt:"",className:"w-[100vw] h-full rounded-b-3xl img_bg"}),(0,y.jsxs)("div",{id:"media_overview",className:"relative w-full h-full ml-[5vw] pt-[15vh] w-[45vw]",children:[(0,y.jsxs)("div",{className:"flex_center m-2",children:[W.imdb_id?(0,y.jsx)("a",{href:"https://www.imdb.com/title/"+W.imdb_id+"/",children:(0,y.jsx)("img",{id:"imdb_icon",src:N,alt:"IMDb",className:"w-[4vh] mr-2"})}):null,(0,y.jsx)("a",{href:U?"https://www.themoviedb.org/movie/"+B:"https://www.themoviedb.org/tv/"+P,children:(0,y.jsx)("img",{id:"imdb_icon",src:"https://www.themoviedb.org/favicon.ico",alt:"IMDb",className:"w-[4vh]"})})]}),(0,y.jsx)("div",{className:"flex_center w-full m-auto pr-[4vw] pl-[4vw]",children:null===(n=W.genres)||void 0===n?void 0:n.map((function(e,t){if(t<3)return(0,y.jsx)("div",{className:"bg-[#43495C] border-[#93A0C9] border-[1.5px] rounded-full w-full m-2 pt-2 pb-2 whitespace-nowrap",children:e.name},t)}))}),W.homepage?(0,y.jsx)("a",{href:"".concat(W.homepage),className:"font-bold text-[5vh]",children:U?W.title:W.name}):(0,y.jsx)("div",{className:"font-bold text-[5vh]",children:U?W.title:W.name}),W.belongs_to_collection?(0,y.jsx)(m.rU,{to:"/collection/".concat(W.belongs_to_collection.id,"/"),children:(0,y.jsxs)("div",{className:"font-bold italic",children:["Part of the ",W.belongs_to_collection.name]})}):null,W.tagline?(0,y.jsx)("div",{className:"mr-5 text-center w-full text-[#878787] text-[2vh] italic",children:W.tagline}):null,W.runtime?(0,y.jsxs)("div",{children:[W.runtime,"m"]}):null,(0,y.jsxs)("div",{className:"flex_center m-auto w-full mt-[5vh] font-bold whitespace-nowrap",children:[Ie?(0,y.jsx)(b.Z,{title:(0,y.jsx)("img",{src:f,alt:"JustWatch",className:"w-[10vw]"}),placement:"top",children:(0,y.jsx)("a",{href:Ie,className:"bg-[#21232D] border-[#777EA3] border-[1.5px] rounded-full w-full m-2 pt-2 pb-2 cursor-pointer",children:"Play"})}):(0,y.jsx)("div",{className:"bg-[#21232D] border-[#777EA3] text-[#838383] border-[1.5px] rounded-full w-full m-2 pt-2 pb-2",children:"Play"}),(0,y.jsx)("div",{className:"bg-[#21232D] border-[#777EA3] border-[1.5px] rounded-full w-full m-2 pt-2 pb-2 cursor-pointer",onClick:function(e){Y&&Me(e.currentTarget)},children:be?"Added to My List":"Add to My List"}),(0,y.jsxs)(w.ZP,{id:Fe,open:Te,anchorEl:We,onClose:qe,anchorOrigin:{vertical:"center",horizontal:"center"},transformOrigin:{vertical:"center",horizontal:"center"},children:[(0,y.jsx)("div",{className:"p-5 pb-3 pt-3 bg-[#21232D] border-[#777EA3] border-b-[1.5px] text-white flex_center cursor-pointer",onClick:function(){Y&&(be?(0,x.default)({item:W,isOnWatchlist:be}).then((function(e){we(e[0])})):(0,x.default)({item:W,isOnWatchlist:be}).then((function(){we(!0)})))},children:"Watchlist"}),null===he||void 0===he?void 0:he.map((function(e,t){return(0,y.jsx)("div",{className:"p-5 pb-3 pt-3 bg-[#21232D] border-[#777EA3] border-b-[1.5px] text-white flex_center cursor-pointer",onClick:function(){return function(e){return Ge.apply(this,arguments)}(e)},children:e.name},t)}))]}),(0,y.jsx)("div",{className:"bg-[#21232D] border-[#777EA3] border-[1.5px] rounded-full w-full m-2 pt-2 pb-2 cursor-pointer",onClick:function(e){Y&&Ue(e.currentTarget)},children:Ze?"Rated "+_e:"Rate"}),(0,y.jsx)(w.ZP,{id:Le,open:Re,anchorEl:Pe,onClose:Xe,anchorOrigin:{vertical:"center",horizontal:"center"},transformOrigin:{vertical:"center",horizontal:"center"},children:(0,y.jsx)(g.Z,{name:"rating",value:_e,defaultValue:0,max:10,icon:(0,y.jsx)(j.dOX,{}),emptyIcon:(0,y.jsx)(j.wkn,{}),onChange:function(e,t){return function(e,t){(0,x.saveRating)(t,_e,W).then((function(e){if(Xe(),null===e[1])return Ne(0),void Ee(!1);Ne(e[1]),Ee(e[0])}))}(0,t)}})})]}),(0,y.jsx)("div",{className:"rounded-full font-bold m-2 pt-2 pb-2 mt-5 cursor-pointer w-fit ml-auto mr-auto",onClick:function(){le(!ae)},children:"Play the Trailer"}),W.overview?(0,y.jsx)("div",{className:"mb-5 mr-5 text-white italic mt-[2vh] overflow-y-auto",children:W.overview}):null,W.budget?(0,y.jsxs)("div",{children:["Budget: ",(0,x.formatNumber)(W.budget)]}):null,W.revenue?(0,y.jsxs)("div",{children:["Revenue: ",(0,x.formatNumber)(W.revenue)]}):null,W.number_of_episodes?(0,y.jsx)("div",{children:Ke(W.number_of_episodes," Episode")}):null,W.number_of_seasons?(0,y.jsx)("div",{children:Ke(W.number_of_seasons," Season")}):null,(0,y.jsxs)("div",{children:["Status: ",W.status]}),W.type?(0,y.jsxs)("div",{children:["Type: ",W.type]}):null,(0,y.jsx)(b.Z,{title:(0,y.jsxs)("div",{className:"w-[100%] text-[2vh] inline-block",children:[(0,y.jsx)("div",{className:"font-bold w-[100%] text-[2vh]",children:"Production Countries:"}),null===(c=W.production_countries)||void 0===c?void 0:c.map((function(e,t){return(0,y.jsxs)("div",{className:"w-[100%] text-[2vh]",children:[e.name," (",e.iso_3166_1,")"]},t)})),(0,y.jsx)("div",{className:"font-bold w-[100%] text-[2vh]",children:"Production Companies:"}),null===(k=W.production_companies)||void 0===k?void 0:k.map((function(e,t){return(0,y.jsx)("div",{className:"w-[100%] text-[2vh]",children:e.name},t)}))," "]}),placement:"bottom",children:(0,y.jsx)("div",{className:"mt-3 text-[#878787] text-[2vh] italic",children:"Hover to see production info"})}),U?(0,y.jsx)(m.rU,{to:"/movie/".concat(B,"/releases/"),children:(0,y.jsxs)("div",{className:"font-bold mt-3",children:["Release Dates ",null!==(Z=document.getElementById("root"))&&void 0!==Z&&Z.getAttribute("locvalue")?"("+(null===(E=document.getElementById("root"))||void 0===E?void 0:E.getAttribute("locvalue"))+")":""]})}):(0,y.jsx)("div",{className:"font-bold mt-3",children:"Release Dates"}),U?(0,y.jsx)("div",{className:"mb-5",children:ne[0]?ne.map((function(e,t){return(0,y.jsx)("div",{children:e},t)})):(0,y.jsxs)("div",{children:["No Dates Added",(0,y.jsx)(m.rU,{to:"/movie/".concat(B,"/releases/"),children:(0,y.jsx)("div",{className:"font-bold",children:"Release Dates (US)"})}),null===(S=Je("US"))||void 0===S?void 0:S.map((function(e,t){return(0,y.jsx)("div",{children:e},t)}))]})}):(0,y.jsxs)("div",{children:[(0,y.jsxs)("div",{children:["First Air Date: ",(0,x.formatDate)(W.first_air_date,"Not Added")]}),(0,y.jsxs)("div",{children:["Last Air Date: ",(0,x.formatDate)(W.last_air_date,"Not Added")]})]})]}),(0,y.jsxs)("div",{id:"media_cast",className:"relative w-[40vw] h-[85vh] mt-[15vh] mr-[5vw] ml-auto right-0 overflow-y-scroll rounded-2xl",children:[(0,y.jsxs)("div",{className:"flex_center absolute right-0 h-[4vh] w-full",children:[(0,y.jsx)("div",{className:"font-bold mr-5 text-[3vh] cursor-pointer ".concat(q?"":"text-[#878787]"),onClick:function(){return G(!0)},children:"Cast"}),(0,y.jsx)("div",{className:"font-bold text-[3vh] cursor-pointer ".concat(q?"text-[#878787]":""),onClick:function(){return G(!1)},children:"Crew"})]}),q?null===(A=W.credits)||void 0===A||null===(I=A.cast)||void 0===I?void 0:I.map((function(e,t){return(0,y.jsxs)(m.rU,{to:"/person/".concat(e.id,"/"),className:"mr-5 mt-[4vh] w-full whitespace-pre-wrap rounded-2xl flex overflow-y-clip relative mb-2",children:[(0,y.jsxs)("div",{className:"cast_names h-full m-auto",children:[(0,y.jsx)("div",{className:"font-bold",children:e.name}),(0,y.jsx)("div",{children:e.character})]}),(0,y.jsx)("img",{src:e.profile_path?"https://image.tmdb.org/t/p/w500/".concat(e.profile_path):p.Z,alt:e.name,className:"w-[25%] rounded-2xl"})]},t)})):null===(C=W.credits)||void 0===C||null===(D=C.crew)||void 0===D?void 0:D.map((function(e,t){return(0,y.jsxs)(m.rU,{to:"/person/".concat(e.id,"/"),className:"mr-5 mt-[4vh] w-full whitespace-pre-wrap rounded-2xl flex overflow-y-clip relative mb-2",children:[(0,y.jsxs)("div",{className:"cast_names h-full m-auto",children:[(0,y.jsx)("div",{className:"font-bold",children:e.name}),(0,y.jsx)("div",{children:e.job})]}),(0,y.jsx)("img",{src:e.profile_path?"https://image.tmdb.org/t/p/w500/".concat(e.profile_path):p.Z,alt:e.name,className:"w-[25%] rounded-2xl"})]},t)}))]})]})})]})}},8122:function(){}}]);
//# sourceMappingURL=739.55f382bc.chunk.js.map