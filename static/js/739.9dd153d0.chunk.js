"use strict";(self.webpackChunkmyfavmovies=self.webpackChunkmyfavmovies||[]).push([[739],{1890:function(e,t,n){n.r(t),n.d(t,{default:function(){return N}});var i=n(4165),l=n(5861),o=n(885),a=n(2283),r=n(2791),s=n(3442),d=n(4569),c=n.n(d),u=n(8931),m=n(1523),v=n(4061),h=n(8712),f=n(6009),p=n.p+"static/media/justwatch_icon.ade4d0d997b506beca8a.png",x=n(6364),w=n(5152),b=n(2339),g=n(6970),j=n(8617),_=(n(8122),n(184));function N(){var e,t,n,d,N,y,k,Z,E,S,A,I,B=(0,u.UO)().movieId,C=(0,u.UO)().televisionId,D=!!B,P="https://api.themoviedb.org/3/movie/".concat(B,"?api_key=").concat(s.ZP.key,"&language=").concat(null===(e=document.getElementById("root"))||void 0===e?void 0:e.getAttribute("langvalue"),"&append_to_response=videos,images,alternative_titles,watch/providers,release_dates,credits"),L="https://api.themoviedb.org/3/tv/".concat(C,"?api_key=").concat(s.ZP.key,"&language=").concat(null===(t=document.getElementById("root"))||void 0===t?void 0:t.getAttribute("langvalue"),"&append_to_response=credits,episode_groups,videos"),R=(0,r.useState)([]),U=(0,o.Z)(R,2),O=U[0],W=U[1],z=(0,r.useState)(!0),T=(0,o.Z)(z,2),M=T[0],F=T[1],H=(0,r.useState)(!0),J=(0,o.Z)(H,2),V=J[0],X=J[1],q=(0,r.useState)(!1),G=(0,o.Z)(q,2),K=G[0],Q=G[1],Y=(0,r.useState)([]),$=(0,o.Z)(Y,2),ee=$[0],te=$[1],ne=(0,r.useState)(!1),ie=(0,o.Z)(ne,2),le=ie[0],oe=ie[1],ae=(0,r.useState)(""),re=(0,o.Z)(ae,2),se=re[0],de=re[1],ce=(0,r.useState)(!1),ue=(0,o.Z)(ce,2),me=ue[0],ve=ue[1],he=(0,r.useState)(0),fe=(0,o.Z)(he,2),pe=fe[0],xe=fe[1],we=(0,r.useState)(!1),be=(0,o.Z)(we,2),ge=be[0],je=be[1],_e=(0,r.useState)(""),Ne=(0,o.Z)(_e,2),ye=Ne[0],ke=Ne[1],Ze=r.useState(null),Ee=(0,o.Z)(Ze,2),Se=Ee[0],Ae=Ee[1],Ie=Boolean(Se),Be=Ie?"movie-rating-popover":void 0;function Ce(){window.innerWidth/window.innerHeight<1.2?(document.getElementById("media_overview").style.width="90vw",document.getElementById("media_cast").style.width="90vw",document.getElementById("media_cast").style.gridRowStart=2):(document.getElementById("media_overview").style.width="45vw",document.getElementById("media_cast").style.width="45vw",document.getElementById("media_cast").style.gridRowStart=1)}function De(e){var t;if(D){var n=(0,x.getReleaseDateItem)(e,O);return e===(null===(t=document.getElementById("root"))||void 0===t?void 0:t.getAttribute("locvalue"))&&te(n),n}}function Pe(e){de((0,x.getMainTrailer)(e))}document.onmousedown=function(){return!0},(0,r.useEffect)((function(){h.I8.onAuthStateChanged(function(){var e=(0,l.Z)((0,i.Z)().mark((function e(t){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=6;break}return Q(!0),e.next=4,(0,v.Z)().then((function(){c().get(D?P:L).then((function(e){console.log(e.data),W(e.data),Pe(e.data),(0,x.getMovieDataFromDB)(e.data).then((function(e){if(ve(e[0]),null===e[1])return xe(0),void je(!1);xe(e[1]),je(e[2])})).catch((function(e){return console.error(e)})),ke((0,x.getWatchProviderLink)(e.data))})).then((function(){F(!1)})).catch((function(e){return console.error(e)}))})).catch((function(e){return console.error(e)}));case 4:e.next=8;break;case 6:Q(!1),c().get(D?P:L).then((function(e){console.log(e.data),W(e.data),Pe(e.data),ke((0,x.getWatchProviderLink)(e.data))})).then((function(){F(!1)}));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[P]);var Le=function(){Ae(null)};function Re(e){var t;if(""===e)return"Not added";var n=null===(t=document.getElementById("root"))||void 0===t?void 0:t.getAttribute("locvalue");return new Date(e).toLocaleDateString(n||"US",{year:"numeric",month:"long",day:"numeric"})}function Ue(e,t){return 1!==e?e+t+"s":e+t}return window.addEventListener("resize",Ce),(0,u.k6)().listen((function(){window.removeEventListener("resize",Ce)})),!M&&(0,_.jsxs)(a.Z,{children:[(0,_.jsx)("div",{id:"media_trailer",className:"bg-black ".concat(le?"":"hidden"," w-screen h-screen mt-[-50px]"),children:le?(0,_.jsx)("div",{className:"top-0 left-0 w-full h-full absolute overflow-hidden rounded-xl",children:(0,_.jsx)("iframe",{src:"https://www.youtube.com/embed/".concat(se,"?autoplay=1&autohide=1?rel=0&amp&modestbranding=1"),title:O.title+" Trailer",allowFullScreen:!0,loading:"lazy",className:"w-full h-full"})}):void 0}),(0,_.jsx)("div",{className:"h-full ".concat(le?"":"mt-[-50px]"),onLoad:Ce,children:(0,_.jsxs)("div",{id:"movie_backdrop_ribbon",className:"inline-block w-[100vw] media_parent h-fit min-h-[100vh] justify-center movie_ribbon relative",onLoad:function(){var e;return De(null===(e=document.getElementById("root"))||void 0===e?void 0:e.getAttribute("locvalue"))},children:[(0,_.jsx)("img",{src:"https://image.tmdb.org/t/p/original/".concat(O.backdrop_path),alt:"",className:"w-[100vw] h-full rounded-b-3xl img_bg"}),(0,_.jsxs)("div",{id:"media_overview",className:"relative w-full h-full ml-[5vw] pt-[15vh] w-[45vw]",children:[(0,_.jsx)("div",{className:"flex_center w-full m-auto pr-[4vw] pl-[4vw]",children:null===(n=O.genres)||void 0===n?void 0:n.map((function(e,t){if(t<3)return(0,_.jsx)("div",{className:"bg-[#43495C] border-[#93A0C9] border-[1.5px] rounded-full w-full m-2 pt-2 pb-2 whitespace-nowrap",children:e.name},t)}))}),(0,_.jsx)("a",{href:"".concat(O.homepage),className:"font-bold text-[5vh]",children:D?O.title:O.name}),O.belongs_to_collection?(0,_.jsx)(m.rU,{to:"/collection/".concat(O.belongs_to_collection.id,"/"),children:(0,_.jsxs)("div",{className:"font-bold italic",children:["Part of the ",O.belongs_to_collection.name]})}):null,O.tagline?(0,_.jsx)("div",{className:"mr-5 text-center w-full text-[#878787] text-[2vh] italic",children:O.tagline}):null,O.runtime?(0,_.jsxs)("div",{children:[O.runtime,"m"]}):null,(0,_.jsxs)("div",{className:"flex_center m-auto w-full mt-[5vh] font-bold whitespace-nowrap",children:[ye?(0,_.jsx)(w.Z,{title:(0,_.jsx)("img",{src:p,alt:"JustWatch",className:"w-[10vw]"}),placement:"top",children:(0,_.jsx)("a",{href:ye,className:"bg-[#21232D] border-[#777EA3] border-[1.5px] rounded-full w-full m-2 pt-2 pb-2 cursor-pointer",children:"Play"})}):(0,_.jsx)("div",{className:"bg-[#21232D] border-[#777EA3] text-[#838383] border-[1.5px] rounded-full w-full m-2 pt-2 pb-2",children:"Play"}),(0,_.jsx)("div",{className:"bg-[#21232D] border-[#777EA3] border-[1.5px] rounded-full w-full m-2 pt-2 pb-2 cursor-pointer",onClick:function(){K&&(me?(0,x.default)({item:O,isOnWatchlist:me}).then((function(e){ve(e[0])})):(0,x.default)({item:O,isOnWatchlist:me}).then((function(){ve(!0)})))},children:me?"Added to My List":"Add to My List"}),(0,_.jsx)("div",{className:"bg-[#21232D] border-[#777EA3] border-[1.5px] rounded-full w-full m-2 pt-2 pb-2 cursor-pointer",onClick:function(e){K&&Ae(e.currentTarget)},children:ge?"Rated "+pe:"Rate"}),(0,_.jsx)(b.ZP,{id:Be,open:Ie,anchorEl:Se,onClose:Le,anchorOrigin:{vertical:"center",horizontal:"center"},transformOrigin:{vertical:"center",horizontal:"center"},children:(0,_.jsx)(g.Z,{name:"rating",value:pe,defaultValue:0,max:10,icon:(0,_.jsx)(j.dOX,{}),emptyIcon:(0,_.jsx)(j.wkn,{}),onChange:function(e,t){return function(e,t){(0,x.saveRating)(t,pe,O).then((function(e){if(Le(),null===e[1])return xe(0),void je(!1);xe(e[1]),je(e[0])}))}(0,t)}})})]}),(0,_.jsx)("div",{className:"rounded-full font-bold m-2 pt-2 pb-2 mt-5 cursor-pointer w-fit ml-auto mr-auto",onClick:function(){oe(!le)},children:"Play the Trailer"}),O.overview?(0,_.jsx)("div",{className:"mb-5 mr-5 text-white italic mt-[2vh] overflow-y-auto",children:O.overview}):null,O.budget?(0,_.jsxs)("div",{children:["Budget: ",(0,x.formatNumber)(O.budget)]}):null,O.revenue?(0,_.jsxs)("div",{children:["Revenue: ",(0,x.formatNumber)(O.revenue)]}):null,O.number_of_episodes?(0,_.jsx)("div",{children:Ue(O.number_of_episodes," Episode")}):null,O.number_of_seasons?(0,_.jsx)("div",{children:Ue(O.number_of_seasons," Season")}):null,(0,_.jsxs)("div",{children:["Status: ",O.status]}),O.type?(0,_.jsxs)("div",{children:["Type: ",O.type]}):null,(0,_.jsx)(w.Z,{title:(0,_.jsxs)("div",{className:"w-[100%] text-[2vh] inline-block",children:[(0,_.jsx)("div",{className:"font-bold w-[100%] text-[2vh]",children:"Production Countries:"}),null===(d=O.production_countries)||void 0===d?void 0:d.map((function(e,t){return(0,_.jsxs)("div",{className:"w-[100%] text-[2vh]",children:[e.name," (",e.iso_3166_1,")"]},t)})),(0,_.jsx)("div",{className:"font-bold w-[100%] text-[2vh]",children:"Production Companies:"}),null===(N=O.production_companies)||void 0===N?void 0:N.map((function(e,t){return(0,_.jsx)("div",{className:"w-[100%] text-[2vh]",children:e.name},t)}))," "]}),placement:"bottom",children:(0,_.jsx)("div",{className:"mt-3 text-[#878787] text-[2vh] italic",children:"Hover to see production info"})}),D?(0,_.jsx)(m.rU,{to:"/movie/".concat(B,"/releases/"),children:(0,_.jsxs)("div",{className:"font-bold mt-3",children:["Release Dates ",null!==(y=document.getElementById("root"))&&void 0!==y&&y.getAttribute("locvalue")?"("+(null===(k=document.getElementById("root"))||void 0===k?void 0:k.getAttribute("locvalue"))+")":""]})}):(0,_.jsx)("div",{className:"font-bold mt-3",children:"Release Dates"}),D?(0,_.jsx)("div",{className:"mb-5",children:ee[0]?ee.map((function(e,t){return(0,_.jsx)("div",{children:e},t)})):(0,_.jsxs)("div",{children:["No Dates Added",(0,_.jsx)(m.rU,{to:"/movie/".concat(B,"/releases/"),children:(0,_.jsx)("div",{className:"font-bold",children:"Release Dates (US)"})}),null===(Z=De("US"))||void 0===Z?void 0:Z.map((function(e,t){return(0,_.jsx)("div",{children:e},t)}))]})}):(0,_.jsxs)("div",{children:[(0,_.jsxs)("div",{children:["First Air Date: ",Re(O.first_air_date)]}),(0,_.jsxs)("div",{children:["Last Air Date: ",Re(O.last_air_date)]})]})]}),(0,_.jsxs)("div",{id:"media_cast",className:"relative w-[40vw] h-[85vh] mt-[15vh] mr-[5vw] ml-auto right-0 overflow-y-scroll rounded-2xl",children:[(0,_.jsxs)("div",{className:"flex_center absolute right-0 h-[4vh] w-full",children:[(0,_.jsx)("div",{className:"font-bold mr-5 text-[3vh] cursor-pointer ".concat(V?"":"text-[#878787]"),onClick:function(){return X(!0)},children:"Cast"}),(0,_.jsx)("div",{className:"font-bold text-[3vh] cursor-pointer ".concat(V?"text-[#878787]":""),onClick:function(){return X(!1)},children:"Crew"})]}),V?null===(E=O.credits)||void 0===E||null===(S=E.cast)||void 0===S?void 0:S.map((function(e,t){return(0,_.jsxs)(m.rU,{to:"/person/".concat(e.id,"/"),className:"mr-5 mt-[4vh] w-full whitespace-pre-wrap rounded-2xl flex overflow-y-clip relative mb-2",children:[(0,_.jsxs)("div",{className:"cast_names h-full m-auto",children:[(0,_.jsx)("div",{className:"font-bold",children:e.name}),(0,_.jsx)("div",{children:e.character})]}),(0,_.jsx)("img",{src:e.profile_path?"https://image.tmdb.org/t/p/w500/".concat(e.profile_path):f.Z,alt:e.name,className:"w-[25%] rounded-2xl"})]},t)})):null===(A=O.credits)||void 0===A||null===(I=A.crew)||void 0===I?void 0:I.map((function(e,t){return(0,_.jsxs)(m.rU,{to:"/person/".concat(e.id,"/"),className:"mr-5 mt-[4vh] w-full whitespace-pre-wrap rounded-2xl flex overflow-y-clip relative mb-2",children:[(0,_.jsxs)("div",{className:"cast_names h-full m-auto",children:[(0,_.jsx)("div",{className:"font-bold",children:e.name}),(0,_.jsx)("div",{children:e.job})]}),(0,_.jsx)("img",{src:e.profile_path?"https://image.tmdb.org/t/p/w500/".concat(e.profile_path):f.Z,alt:e.name,className:"w-[25%] rounded-2xl"})]},t)}))]})]})})]})}},8122:function(){}}]);
//# sourceMappingURL=739.9dd153d0.chunk.js.map